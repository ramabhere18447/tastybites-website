<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TastyBite - Food Delivery</title>
<!-- Favicon -->
  <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/1404/1404945.png">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
 <!-- Custom Styles -->
  <style>
    body {
      background: #fff0f5;
      font-family: 'Segoe UI', sans-serif;
    }
    .hero-text {
      background: rgba(0,0,0,0.5);
      color: #fff;
      padding: 25px;
      border-radius: 12px;
    }
    .card img {
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s;
      border-radius: 12px 12px 0 0;
    }
    .card img:hover {
      transform: scale(1.05);
    }
    .card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }
    .btn-gradient {
      background: linear-gradient(45deg, #ff6b6b, #f06595);
      border: none;
      color: #fff;
      transition: background 0.3s;
    }
    .btn-gradient:hover {
      background: linear-gradient(45deg, #f06595, #ff6b6b);
    }
    footer {
      background: #1a1a1a;
      color: #fff;
      margin-top: 50px;
    }
    .carousel-item img {
  width: 100%;
  height: 70vh;      /* adjusts automatically with screen height */
  object-fit: cover; /* fills the frame nicely without stretching */
}
  </style>
</head>


<!-- Cart Modal -->
<div class="modal fade" id="cartModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Your Cart</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered text-center">
          <thead class="table-dark">
            <tr>
              <th>Item</th>
              <th>Qty</th>
              <th>Price</th>
              <th>Total</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="cart-items">
            <!-- Cart items will appear here -->
          </tbody>
        </table>
        <h4>Total: ‚Çπ<span id="cart-total">0</span></h4>
      </div>
      <div class="modal-footer">
        <a href="billing.html" class="btn btn-success">Proceed to Checkout</a>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
let cart = [];

// Change quantity in modal
function changeQty(item, delta) {
  const qtyInput = document.getElementById(`${item}-qty`);
  let qty = parseInt(qtyInput.value);
  qty += delta;
  if (qty < 1) qty = 1;
  qtyInput.value = qty;
}

// Add item to cart with qty from modal or card
function addToCart(name, price, qty = 1) {
  qty = parseInt(qty); // Ensure qty is a number
  let item = cart.find(i => i.name === name);
  if (item) {
    item.qty += qty;
    item.total = item.qty * item.price;
  } else {
    cart.push({ name: name, price: price, qty: qty, total: price * qty });
  }
  updateCart();
}

// Remove item from cart
function removeFromCart(name) {
  cart = cart.filter(i => i.name !== name);
  updateCart();
}

// Update quantity of an item
function updateQty(name, delta) {
  let item = cart.find(i => i.name === name);
  if (!item) return;

  item.qty += delta;
  if (item.qty < 1) item.qty = 1; // Prevent 0 or negative
  item.total = item.qty * item.price;

  updateCart();
}


// Update cart display
function updateCart() {
  const tbody = document.getElementById('cart-items');
  tbody.innerHTML = '';
  let total = 0;

  cart.forEach(item => {
    total += item.total;
    tbody.innerHTML += `
      <tr>
        <td>${item.name}</td>
        <td>
          <div class="d-flex justify-content-center align-items-center">
            <button class="btn btn-sm btn-outline-secondary me-1" onclick="updateQty('${item.name}', -1)">‚àí</button>
            <span id="qty-${item.name}" class="px-2">${item.qty}</span>
            <button class="btn btn-sm btn-outline-secondary ms-1" onclick="updateQty('${item.name}', 1)">+</button>
          </div>
        </td>
        <td>‚Çπ${item.price}</td>
        <td>‚Çπ${item.total}</td>
        <td>
          <button class="btn btn-danger btn-sm" onclick="removeFromCart('${item.name}')">Remove</button>
        </td>
      </tr>
    `;
  });

  document.getElementById('cart-total').innerText = total;
  const cartCount = document.getElementById('cart-count');
  if (cartCount) cartCount.innerText = cart.length; // only update if badge exists
}

// Save cart in localStorage
window.addEventListener('beforeunload', () => {
  localStorage.setItem('cart', JSON.stringify(cart));
});

// Load cart from localStorage
window.addEventListener('load', () => {
  let savedCart = localStorage.getItem('cart');
  if (savedCart) cart = JSON.parse(savedCart);
  updateCart();
});
</script>

<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="rama.html">
<img src="https://cdn-icons-png.flaticon.com/512/1404/1404945.png" alt="Logo" width="30" height="30"
          class="d-inline-block align-text-top">
TastyBite
</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
     <ul class="navbar-nav ms-auto">
  <li class="nav-item"><a class="nav-link" href="rama.html">Home</a></li>
  <li class="nav-item"><a class="nav-link" href="menu.html">Menu</a></li>
  <li class="nav-item"><a class="nav-link" href="restaurants.html">Restaurants</a></li>
  <li class="nav-item"><a class="nav-link" href="offers.html">Offers</a></li>
  <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
  <li class="nav-item">
    <button class="btn btn-warning" type="button" data-bs-toggle="modal" data-bs-target="#cartModal">
      üõí Cart (<span id="cart-count">0</span>)
    </button>
  </li>
<!-- Greeting + Logout -->
   <li class="nav-item d-flex align-items-center ms-3">
   <span id="userGreeting" class="text-white fw-bold me-2" style="display:none;"></span>
     <button id="logoutBtn" class="btn btn-outline-light btn-sm fw-bold" style="display:none;">Logout</button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Carousel -->
<div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
 <!-- Login Button fixed on carousel -->
<button id="loginBtnCarousel" class="btn btn-dark position-absolute top-0 end-0 m-3 fw-bold"
        data-bs-toggle="modal" data-bs-target="#loginModal"
        style="z-index: 10; font-size: 1.5rem; padding: 12px 25px; border-radius: 10px; font-weight: bold;">
  LOGIN
</button>

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="C:\WT\self learning\rama\images\carousal1.jpg?auto=format&fit=crop&w=1600&q=80" class="d-block w-100" alt="Pizza">
      <div class="carousel-caption d-none d-md-block hero-text">
        <h1>Fast & Fresh Food</h1>
        <p>Your favorite meals delivered to your doorstep.</p>
              </div>
    </div>
    <div class="carousel-item">
      <img src="C:\WT\self learning\rama\images\carousal2.jpeg?auto=format&fit=crop&w=1600&q=80" class="d-block w-100" alt="Burgers">
      <div class="carousel-caption d-none d-md-block hero-text">
        <h1>Delicious Burgers</h1>
        <p>Hot, cheesy, and delivered in 30 minutes!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="C:\WT\self learning\rama\images\carousal3.jpeg?auto=format&fit=crop&w=1600&q=80" class="d-block w-100" alt="Healthy Food">
      <div class="carousel-caption d-none d-md-block hero-text">
        <h1>Healthy Choices</h1>
        <p>Salads, juices, and more for a balanced lifestyle.</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Categories -->
<section class="container py-5">
  <h2 class="text-center mb-4">Food Categories</h2>
  <div class="row g-4">
    <div class="col-md-3">
      <div class="card">
        <img src="C:\WT\self learning\rama\images\pizzas.jpeg?auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="Pizza">
        <div class="card-body text-center">
          <h5 class="card-title">Pizza</h5>
          <p class="card-text">Cheesy & tasty pizzas from top restaurants.</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <img src="C:\WT\self learning\rama\images\burgers.jpeg?auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="Burger">
        <div class="card-body text-center">
          <h5 class="card-title">Burgers</h5>
          <p class="card-text">Juicy burgers with crispy fries combo and more.</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <img src="C:\WT\self learning\rama\images\deserts.jpeg?auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="Desserts">
        <div class="card-body text-center">
          <h5 class="card-title">Desserts</h5>
          <p class="card-text">Smooth and sweet treats to make your day better.</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <img src="C:\WT\self learning\rama\images\salads.jpeg?auto=format&fit=crop&w=600&q=80" class="card-img-top" alt="Healthy">
        <div class="card-body text-center">
          <h5 class="card-title">Healthy</h5>
          <p class="card-text">Nutritious and fresh meals for fitness lovers.</p>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title">Login to TastyBite</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="loginForm">
          <div class="mb-3">
            <label for="email" class="form-label">Email address</label>
            <input type="email" class="form-control" id="email" placeholder="Enter email" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" placeholder="Password" required>
          </div>
          <button type="submit" class="btn btn-gradient w-100">Login</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="text-center py-4 mt-5">
  <p>Contact us: 123-456-7890 | support@tastybite.com</p>
  <p>Follow us: Facebook | Instagram | Twitter</p>
  <p>¬© 2025 TastyBite. All rights reserved.</p>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom JS -->
<script>
  const loginForm = document.getElementById('loginForm');
  const loginBtnCarousel = document.getElementById('loginBtnCarousel');
  const userGreeting = document.getElementById('userGreeting');
  const logoutBtn = document.getElementById('logoutBtn');

  loginForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    if(email && password){
      // Show success alert
      alert('‚úÖ Logged in successfully!');

      // Close modal
      const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
      loginModal.hide();

      // Hide login button on carousel
      loginBtnCarousel.style.display = 'none';

      // Show greeting + logout
      userGreeting.style.display = 'inline';
      userGreeting.textContent = `üëã Welcome, ${email.split('@')[0]}`;
      logoutBtn.style.display = 'inline';

      // Reset form
      loginForm.reset();
    } else {
      alert('‚ö†Ô∏è Please enter valid credentials!');
    }
  });

  logoutBtn.addEventListener('click', function() {
    // Hide greeting + logout
    userGreeting.style.display = 'none';
    logoutBtn.style.display = 'none';

    // Show login button again
    loginBtnCarousel.style.display = 'inline-block';

    alert('üö™ You have logged out.');
  });
</script>

<script>
  window.addEventListener('load', () => {
    // Check if query param ?openCart=true is present
    const params = new URLSearchParams(window.location.search);
    if (params.get("openCart") === "true") {
      const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
      cartModal.show();
    }
  });
</script>

</body>
</html>